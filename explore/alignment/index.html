<!DOCTYPE html><!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>The Fundamentals of CSS Alignment</title>
		<link rel="icon" href="/img/fav.png" sizes="any">
		<meta name="description" content="This deep dive covers everything you need to know about CSS alignment. It&#39;s time to stop doing trial and error and finally understand how everything works!">
		<meta name="author" content="Temani Afif">
		<meta name="robots" content="index, follow">
		<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
		<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
		<link rel=canonical href="https://css-tip.com/explore/alignment/" >
		<link href="https://github.com/Afif13/" rel="me">
		<link href="https://twitter.com/ChallengesCss" rel="me">
		<meta name="fediverse:creator" content="@css@front-end.social" >
		<meta property="og:locale" content="en_US" >
		<meta property="og:title" content="The Fundamentals of CSS Alignment">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://css-tip.com/explore/alignment/">
		<meta property="og:description" content="This deep dive covers everything you need to know about CSS alignment. It&#39;s time to stop doing trial and error and finally understand how everything works!">
		<meta property="og:image" content="/og-images/7ece41a0.png" >
		<meta property="og:image:width" content="1200" >
		<meta property="og:image:height" content="675" >
		<meta name="twitter:card" content="summary_large_image">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="CSS Tip: Learn CSS the easy way">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="CSS Tip: Learn CSS the easy way">
		<meta name="generator" content="Eleventy v3.0.0">
		
		<style>code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-diff-]{--eleventy-code-padding:1.25em;padding-left:var(--eleventy-code-padding);padding-right:var(--eleventy-code-padding)}.token.deleted{background-color:#8e2e2e;color:inherit}.token.inserted{background-color:#44824a;color:inherit}.token.prefix.deleted,.token.prefix.inserted,.token.prefix.unchanged{-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;padding-top:2px;padding-bottom:2px}.token.prefix.deleted,.token.prefix.inserted{width:var(--eleventy-code-padding);background-color:rgba(0,0,0,.2)}.token.deleted:not(.prefix),.token.inserted:not(.prefix){display:block;margin-left:calc(-1 * var(--eleventy-code-padding));margin-right:calc(-1 * var(--eleventy-code-padding));text-decoration:none;color:inherit}:root{--font-family:-apple-system,system-ui,sans-serif;--font-family-monospace:Consolas,Menlo,Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace;--color-gray-20:#e0e0e0;--color-gray-50:#C0C0C0;--color-gray-90:#333;--background-color:#fff;--text-color:var(--color-gray-90);--text-color-link:#033254;--text-color-link-active:#5f2b48;--text-color-link-visited:#17050F}@media (prefers-color-scheme:dark){:root{--color-gray-20:#e0e0e0;--color-gray-50:#C0C0C0;--color-gray-90:#dad8d8;--text-color-link:#6fa2cc;--text-color-link-active:#6969f7;--text-color-link-visited:#a6a6f8;--background-color:#15202b}}*{box-sizing:border-box}html{font-family:var(--font-family);color:var(--text-color)}html{--s:50px;--c:#fff;--c1:#f3f3f3;--_s:calc(2*var(--s)) calc(2*var(--s));--_g:35.36% 35.36% at;--_c:#0000 66%,var(--c1) 68% 70%,#0000 72%;background:radial-gradient(var(--_g) 100% 25%,var(--_c)) var(--s) var(--s)/var(--_s),radial-gradient(var(--_g) 0 75%,var(--_c)) var(--s) var(--s)/var(--_s),radial-gradient(var(--_g) 100% 25%,var(--_c)) 0 0/var(--_s),radial-gradient(var(--_g) 0 75%,var(--_c)) 0 0/var(--_s),repeating-conic-gradient(var(--c) 0 25%,#0000 0 50%) 0 0/var(--_s),radial-gradient(var(--c) 66%,var(--c1) 68% 70%,var(--c) 72%) 0 calc(var(--s)/2)/var(--s) var(--s) var(--c);background-attachment:fixed;font-size:19px}@media (prefers-color-scheme:dark){html{--c:#15202b;--c1:#25272e}}body{max-width:1300px;margin:0 auto;min-height:100vh;display:grid;grid-template-columns:minmax(0,1fr) 450px}@media (max-width:1000px){body{grid-template-columns:minmax(0,1fr) 350px}}@media (max-width:800px){body{grid-template-columns:minmax(0,1fr)}}footer,header{grid-column:1/-1}aside{padding:1rem;display:grid;grid-template-rows:repeat(5,auto) 1fr;align-items:start;gap:1rem}aside>a{display:grid;overflow:hidden;border-radius:10px}aside>:last-child{position:sticky;top:1em}aside img{max-width:100%}footer{margin-top:auto;text-align:center;padding:0 1rem;border-image:linear-gradient(to bottom,var(--color-gray-20) 1px,#0000 0) fill 0//0 100vw}footer a{display:inline-block}h1{margin:.25em 0 .5em;font-size:2.5rem;text-wrap:pretty;text-transform:capitalize}p{text-wrap:pretty}.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}li,p{line-height:1.5}a[href]{color:var(--text-color-link)}a[href]:active,a[href]:hover{color:var(--text-color-link-active)}main{padding:1rem;margin-bottom:3rem}main img{max-width:100%;height:auto;margin:1.5rem auto;display:block}.links-nextprev{display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:1em;font-size:1.1em}.links-nextprev .prev{margin-right:auto}.links-nextprev .next{margin-left:auto}.links-nextprev a:not(:hover){text-decoration:none}.links-nextprev a{position:relative}.links-nextprev .prev a:before{content:"";position:absolute;inset:0 100% 0 auto;width:1em;margin-right:.3em;background:currentColor;clip-path:polygon(100% 0,0 50%,100% 100%)}.links-nextprev .next a:after{content:"";position:absolute;inset:0 auto 0 100%;width:1em;margin-left:.3em;background:currentColor;clip-path:polygon(0 0,100% 50%,0 100%)}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:var(--font-family-monospace)}code{background:#fff2ea;padding-inline:.1em}@media (prefers-color-scheme:dark){code{background:#293c50}}pre:not([class*=language-]){margin:.5em 0;line-height:1.375;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal}pre[class*=language-]{margin:1.5em 0}header{display:flex;gap:1em .5em;flex-wrap:wrap;align-items:center;justify-content:center;padding:1em;border-image:linear-gradient(to top,var(--color-gray-20) 1px,#0000 0) fill 0//0 100vw}.home-link{font-size:2em;font-weight:700;text-decoration:none;color:var(--text-color)!important}nav{margin:auto}.nav{display:flex;flex-wrap:wrap;justify-content:center;padding:0;margin:0;list-style:none;gap:1em;font-size:1.2em}.nav-item a[href]:not(:hover){text-decoration:none}.nav a[href][aria-current=page]{text-decoration:underline}.postlist{list-style:none;padding:0;padding-left:1.5rem;text-wrap:pretty}.postlist>*{display:flex;flex-direction:column;align-items:start;margin-bottom:1em;position:relative;font-size:1.1em}.postlist>:before{pointer-events:none;content:"❋";line-height:100%;position:absolute;right:calc(100% + .5em);top:.7em}.postlist time,.postlist>:before{font-size:.9em;color:var(--color-gray-90)}.postlist time{word-spacing:-0.5px;margin-top:.5em}.postlist a{font-size:1.3em;font-weight:700;padding-right:.5em;text-underline-position:from-font;text-transform:capitalize}.postlist a:not(:hover){text-decoration:none}[data-ea-type=text]+p{margin-top:0}h1+time{display:block;margin:1em 0 3em;font-style:italic;font-weight:500}.header-anchor{text-decoration:none;font-style:normal;font-size:1em;margin-left:.1em}a[href].header-anchor,a[href].header-anchor:visited{color:transparent}a[href].header-anchor:focus,a[href].header-anchor:hover{text-decoration:underline}:hover>a[href].header-anchor,a[href].header-anchor:focus{color:#aaa}h2+.header-anchor{font-size:1.5em}input[type=search]{display:block;width:calc(100% - 24px);margin:1em auto;padding:.8em;border-radius:5px;border:1px solid #0005;font-size:1em}.hide{display:none!important}#carbonads{margin:0!important;position:sticky;top:1em}#carbon-responsive .carbon-responsive-wrap{border-radius:9px}#carbon-responsive{max-width:100%!important;position:relative}#carbon-responsive .carbon-img{flex:0 0 180px!important}#carbon-responsive .carbon-img img{max-width:100%!important;width:100%;height:auto}#carbon-responsive .carbon-text{display:grid;place-content:center;font-size:15px}#custom-wall{display:grid}.wall{height:100%;font-size:18px;line-height:1.4;position:relative;overflow:hidden;display:flex;flex-direction:column;padding:1em;border:1px solid #eaeaea;text-decoration:none;border-radius:.5em;row-gap:5px}.wall__footer{display:flex;justify-content:space-between}.wall__image img{height:50px}.wall__tagline{font-weight:600}h3.wall__tagline{margin-block:.3em;font-size:1.25em;text-transform:capitalize}.wall__description{font-size:.875em;line-height:1.35;flex:1}p.wall__description{font-size:1em;line-height:1.4;margin-block:.5em 1.5em}.wall__sponsor{font-size:.625em;font-weight:500;letter-spacing:.1ch;text-transform:uppercase}.wall__cta{font-size:.9em;font-weight:500;padding:.5em 1em;text-align:center;white-space:nowrap;letter-spacing:.1ch;text-transform:uppercase;border-radius:4px;place-self:center end}.statamic.wall:before{content:"";position:absolute;background:url(https://statamic.com/img/branding/toucan.webp) center/contain;width:100px;aspect-ratio:1.6;right:0;bottom:45px}.statamic .wall__footer{gap:30px;align-items:center}.statamic .wall__image img{height:40px;display:block}#inline-custom{display:block}#inline-custom:has(#_responsive_)>hr{display:none}#inline-custom ._responsive_{max-width:100%}#inline-custom ._responsive_ .native-banner{padding:.25em 1em}#inline-custom ._responsive_ .native-img{width:100px!important;flex-basis:initial!important;height:40px!important}#inline-custom ._responsive_ .native-company{margin-bottom:0!important;font-weight:400!important}#inline-custom ._responsive_ .native-desc{font-weight:500!important}.sponso{border:1px solid var(--text-color-link);padding:1em;border-radius:.5em;background:var(--background-color)}.sponso p{line-height:24px;margin-block:10px;font-size:17px}.sponso small{font-size:.7em;font-weight:500;letter-spacing:1px;text-transform:uppercase}.sponso a:last-child{display:block;text-align:center;background:var(--text-color-link);color:var(--background-color);text-decoration:none;padding:.75em 1em;border-radius:5px;font-weight:600;text-transform:uppercase}code[class*=language-],pre[class*=language-]{line-height:1.4}time span{font-weight:400;margin-inline:10px}.demo-explore{display:grid;position:relative;z-index:10;margin-block:2em;grid-template-columns:2fr 3fr;gap:1em;margin-right:-200px}@media (width <= 1200px){.demo-explore{margin-right:-300px}}@media (width <= 800px){.demo-explore{grid-template-columns:1fr;margin-right:0}}.demo-explore pre[class*=language-]{margin:0;line-height:1.2}.demo-explore code[class*=language-]{font-size:.925em;line-height:1.2}.demo-explore .result{display:grid;min-height:400px;grid-template-rows:1fr auto;font-family:var(--font-family-monospace);font-size:1em}.demo-explore .bottom{display:flex}.demo-explore label{cursor:pointer;display:flex;align-items:center;gap:10px;margin:5px}main button{font:inherit;margin:5px 0 5px auto;cursor:pointer}.demo-explore label input{height:1.5em;aspect-ratio:1;margin:0}.demo-explore select{font:inherit}.demo-explore block,.demo-explore flex,.demo-explore grid{display:grid;gap:20px;border:1px solid;background:#fff}.demo-explore flex{display:flex;flex-wrap:wrap;overflow:hidden}.demo-explore block{display:block}.demo-explore cell{place-self:stretch;background:repeating-linear-gradient(-45deg,#ff8000 0 20px,#0000 0 40px);opacity:.4;transition:opacity .5s}.demo-explore block>* div,.demo-explore flex-item,.demo-explore grid-item{color:#525f7a;border:4px solid;z-index:2;background:#fff8;font-weight:700}.demo-explore block>* div{margin:var(--g);position:relative}.demo-explore block>div{position:relative;width:100%;overflow:hidden;justify-items:inherit}.demo-explore .result:has(input[name=block-content]:checked) block>div:before,.demo-explore .result:has(input[name=flex-line]:checked) flex flex-line:before,.demo-explore .result:has(input[name=grid-cell]:checked) cell,.demo-explore .result:has(input[name=imcb]:checked) imcb:before{opacity:0}.demo-explore flex flex-line{width:100%;display:flex;justify-content:inherit;align-items:inherit;align-self:stretch;gap:20px;position:relative}.demo-explore block>div:before,.demo-explore flex flex-line:before,.demo-explore imcb:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(-45deg,#ff8000 0 20px,#0000 0 40px);opacity:.4;transition:opacity .5s}.margin-box{clip-path:margin-box;box-shadow:0 0 0 100px #a7dbd8b0}aside>:last-child{position:static}h2,h3{margin-top:2em}blockquote{--b:.8em;--h:.8em;--c:#ffcb99;position:relative;z-index:0;padding:.8em;margin-inline:4em 20%;margin-block:2.5em 3.5em;width:fit-content;color:#000}blockquote:before{content:"";position:absolute;z-index:-1;inset:0;border-radius:.8em;border-bottom-left-radius:0;clip-path:polygon(0 0,100% 0,100% 100%,var(--b) 100%,calc(-1 * var(--h)) calc(100% + var(--h)),0 calc(100% - var(--b)));background:var(--c);border-image:conic-gradient(var(--c) 0 0) 0 0 999 999/0 0 calc(var(--h) + var(--b)) calc(var(--h) + var(--b))/0 0 var(--h) var(--h)}blockquote:after{content:attr(data-emo)/"";position:absolute;left:calc(-2.2 * var(--h));bottom:calc(-1.8 * var(--h));font-size:1.8em}.sum{margin-top:2em;border:5px solid #cd333f;border-top:0;padding:0 20px 20px;background:var(--background-color);clip-path:inset(-2lh 0)}.sum:before{content:"Let's sum up!";display:block;width:fit-content;position:relative;top:-.5lh;font-size:1.2em;font-weight:700;border-image:conic-gradient(#cd333f 0 0) 0 50%/calc(50% - 2px) 100vw/0 calc(100vw + 10px)}.sum ul{padding-inline-start:25px;margin:0}details{cursor:pointer;font-weight:700}details summary{font-size:1.2em}.answers{display:grid;gap:10px;padding-inline:1em;margin-top:-.5em}.answers label{display:flex;align-items:center;gap:5px;cursor:pointer;place-self:start}.answers input{width:1.5em;aspect-ratio:1}h1{text-transform:initial}.quiz-result{font-size:1.5em;font-weight:700}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>
		<header>
			<a href="/" class="home-link">CSS Tip</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/tools/">Tools</a></li>
					<li class="nav-item"><a href="/explore/">Explore</a></li>
					<li class="nav-item"><a href="/archive/">Archive</a></li>
					<li class="nav-item"><a href="/advertise/">Advertise</a></li>
					<li class="nav-item"><a href="/feed/feed.xml" target="_blank">RSS</a></li>
				</ul>
			</nav>
		</header>
		<main id="skip">
			<h1>The Fundamentals of CSS Alignment</h1>
<time datetime="2025-09-12">September 04, 2025 <span>(Last updated on September 12, 2025)</span></time>
<p>While centering elements in CSS has become easy over time, there is still a lot of confusion around alignment in general. Let’s be honest, you always end up trying different combinations until it works, but you don’t really understand how it works, right?</p>
<p>Which property is for vertical alignment? <code>align-content</code> or <code>align-items</code>? Where should I add <code>display: flex</code>? Let’s add it everywhere! A height? Why do I need to define a height!? Maybe I should try with <code>display: grid</code>?</p>
<p>It’s time to clear all the confusion! Through this exploration, you will understand the logic behind all the alignment properties and how they work in each layout. It’s not another article about centering, we are going beyond!</p>
<details>
  <summary>Table of Contents</summary>
<ul>
<li><a href="#the-alignment-theory">The Alignment Theory</a></li>
<li><a href="#grid-container">Grid Container </a>
<ul>
<li><a href="#grid-anatomy">Grid Anatomy</a></li>
<li><a href="#ready-to-align">Ready to align?</a></li>
<li><a href="#auto-sizing">Auto Sizing</a></li>
<li><a href="#auto-vs-1fr">auto vs 1fr</a></li>
<li><a href="#grid-item-placement">Grid Item Placement</a></li>
</ul>
</li>
<li><a href="#flex-box-container">Flex(box) Container</a>
<ul>
<li><a href="#flexbox-anatomy">Flexbox Anatomy</a></li>
<li><a href="#ready-to-align-1">Ready to align?</a></li>
<li><a href="#to-wrap-or-not-to-wrap">To Wrap or not to Wrap</a></li>
<li><a href="#row-or-column">Row or Column?</a></li>
</ul>
</li>
<li><a href="#block-container">Block Container</a>
<ul>
<li><a href="#block-anatomy">Block Anatomy</a></li>
<li><a href="#ready-to-align-2">Ready to align?</a></li>
<li><a href="#what-about-inline-elements">What about inline elements?</a></li>
</ul>
</li>
<li><a href="#auto-margins">auto margins</a></li>
<li><a href="#absolutely-positioned-elements">Absolutely-positioned elements</a></li>
<li><a href="#safe-alignment">Safe alignment</a></li>
<li><a href="#already-the-end">Already the end?</a></li>
</ul>
</details>
<p><em>There is <a href="#quiz">a quiz at the end</a>. Try it before reading this article to test your skills!</em></p>
<h2 id="the-alignment-theory" tabindex="-1">The Alignment Theory <a class="header-anchor" href="#the-alignment-theory">#</a></h2>
<p>We have too many properties for alignment, and it’s not easy to memorize all of them. We can enumerate around 10 different properties, and it can be very frustrating for beginners.</p>
<blockquote data-emo="😡">Just give me one property to align vertically and another to align horizontally. Done!</blockquote>
<p>It’s time to kill this type of thinking and understand why CSS requires numerous properties for alignment. Prepare a cup of coffee (or two) and let’s get started!</p>
<div id="inline-custom"><hr style="margin-block:1rem"></div>
<p>In every CSS layout, we have two levels of alignment: <strong>content</strong> and <strong>item</strong>. For the item level, we can either align each item <strong>individually</strong> or apply the same alignment to <strong>all the items</strong>. We need properties for “content alignment”, “item alignment”, and “all items alignment”, so <code>place-content</code>, <code>place-self</code>, and <code>place-items</code>.</p>
<blockquote data-emo="🤔">What’s the difference between “content” and “all items”?</blockquote>
<p>Items refer to the elements you add to your code. If you have a container with 5 divs inside it, then those divs are the items. Content is more obscure, and its meaning depends on the layout. For now, keep in mind that we have something called “content” that we can align inside the container, and the items are aligned inside “content”.</p>
<p>When talking about alignment, we have two axes; horizontal and vertical so each of the previous properties can take up to 2 values. Alternatively, we can split them into 2 properties: <code>align-*</code> and <code>justify-*</code>. So <code>place-*</code> is the shorthand of <code>align-*</code> and <code>justify-*</code>.</p>
<p><picture><source type="image/avif" srcset="/img/6oS8SeKHDz-1163.avif 1163w"><source type="image/webp" srcset="/img/6oS8SeKHDz-1163.webp 1163w"><img alt="CSS alignment properties" loading="lazy" decoding="async" src="/img/6oS8SeKHDz-1163.png" width="1163" height="417"></picture></p>
<p>We will rarely use the <code>place-*</code> properties. The fact that they can take two values can be confusing, but they are useful if you want the same value for both axes. For example, to center an item, you can use <code>place-self: center</code> instead of <code>justify-self: center</code> and <code>align-self: center</code>.</p>
<div class="sum">
<ul>
<li>We have <strong>content level</strong> and <strong>item level</strong> alignment: <code>place-content</code> and <code>place-self</code>.</li>
<li>Two axes:  <code>align-*</code> and <code>justify-*</code> variations.</li>
<li>We can define the same alignment for all the items at once: <code>place-items</code> (<code>align-items</code> and <code>justify-items</code>).</li>
<li><code>*-content</code> and <code>*-items</code> are defined on the container and <code>*-self</code> are defined on the items.</li>
</ul>
</div>
<p>Now we will see how those properties behave depending on the layout. Spoiler: They behave differently, and it’s gonna be a lot of fun! Did I tell you to prepare a cup of coffee?</p>
<h2 id="grid-container" tabindex="-1">Grid Container <a class="header-anchor" href="#grid-container">#</a></h2>
<p>Let’s start with the grid layout, and the first thing to do is to identify what our “content” is. If you don’t know what “content” refers to, you may get lost so let’s start by understanding the anatomy of a grid layout.</p>
<h3 id="grid-anatomy" tabindex="-1">Grid Anatomy <a class="header-anchor" href="#grid-anatomy">#</a></h3>
<p><picture><source type="image/avif" srcset="/img/uuvptAZ_rC-1148.avif 1148w"><source type="image/webp" srcset="/img/uuvptAZ_rC-1148.webp 1148w"><img alt="CSS grid anatomy" loading="lazy" decoding="async" src="/img/uuvptAZ_rC-1148.png" width="1148" height="591"></picture></p>
<p>We have the <strong>grid container</strong> and different rows/columns that intersect to create the <strong>grid cells</strong>. Then the <strong>grid items</strong> are placed within the grid cells. The “content” is the <strong>grid cells.</strong></p>
<p>If we apply the alignment logic in a grid context, we can say: At the “content level”, we align <strong>grid cells</strong> inside the <strong>grid container</strong> and at the “item level”, we align a <strong>grid item</strong> inside a <strong>grid cell.</strong> It’s essential to note that at the “content level”, we always align all the elements (grid cells in this case) as a group. We don’t align each grid cell individually.</p>
<h3 id="ready-to-align" tabindex="-1">Ready to align? <a class="header-anchor" href="#ready-to-align">#</a></h3>
<p>The trickiest part is that we don’t see the grid cells, so it‘s hard to visualize the “content level” alignment. For the sake of simplicity, you will be able to toggle the visibility of the grid cells in all the demos.</p>
<p>Let’s jump straight into the first one.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="justify-self"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="align-self"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: 300px;">
      <grid style="grid-template-rows: 160px;grid-template-columns: 160px">
        <cell style="grid-area: 1/1;"></cell>
        <grid-item class="item" style="width: 90px; height: 60px;grid-area: 1/1;">item</grid-item>
      </grid>
      <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
  </div>
</div>
<p>We have one column and one row with fixed sizes, hence one grid cell. By adjusting the <code>*-content</code> properties, you align the grid cell within the grid container, and by adjusting the <code>*-self</code> properties, you align the grid item within the grid cell. Easy, right?</p>
<blockquote data-emo="🤔">What are the values “start” and “end”? Why don’t we have the classic “left/right" and "top/bottom”?</blockquote>
<p>&quot;left/right&quot; and &quot;top/bottom&quot; are physical values, while &quot;start&quot; and &quot;end&quot; are logical values. The logical values will be mapped to the physical values depending on the configuration (the axis, the writing mode, etc). In the previous example, start is equivalent to left when used with <code>justify-*</code> properties and equivalent to top when used with the <code>align-*</code> properties. Same logic with the end value.</p>
<p>In 90% of the cases, the mapping is always the same especially when working with English content (left-to-right). However, keep in mind that it may change if you are dealing with a different language. Here is the same demo with Arabic content (right-to-left) where you will notice that the values are swapped in the horizontal axis.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="justify-self"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="align-self"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: 300px;">
      <grid style="grid-template-rows: 160px;grid-template-columns: 160px;direction:rtl;">
        <cell style="grid-area: 1/1;"></cell>
        <grid-item class="item" style="width: 90px; height: 60px;grid-area: 1/1;">عنصر</grid-item>
      </grid>
      <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
  </div>
</div>
<p>While some of the physical values are still valid (like left and right), it’s better to familiarize yourself with the logical values.</p>
<p>Let’s add more cells with different sizes.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-items"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-items"><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 130px 150px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 120px 160px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <grid style="grid-template-rows: 120px 160px;grid-template-columns: 130px 150px;">
        <cell style="grid-area: 1/1;"></cell>
        <cell style="grid-area: 1/2;"></cell>
        <cell style="grid-area: 2/1;"></cell>
        <cell style="grid-area: 2/2;"></cell>
        <grid-item class="item1" style="width: 90px; height: 60px;grid-area: 1/1;">item 1</grid-item>
        <grid-item class="item2" style="width: 90px; height: 60px;grid-area: 1/2;">item 2</grid-item>
        <grid-item class="item3" style="width: 90px; height: 60px;grid-area: 2/1;">item 3</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>In this example, you can see the effect of the values <code>space-between</code>, <code>space-around</code>, and <code>space-evenly</code>. You can also align all the items using the <code>*-items</code> properties. It’s important to understand the relation between “self” and “items”. The latter defines one alignment for all items, which you can override later for specific items using <code>*-self</code>. The <code>auto</code> value is the default value of the <code>*-self</code> properties, and it means: “use the value set on the <code>*-items</code> properties”.</p>
<p>Don’t be shy with the demos! Try as many combinations as possible to understand the effect of each property. You can also click the shuffle button and get a random configuration to study.</p>
<h3 id="auto-sizing" tabindex="-1">Auto Sizing <a class="header-anchor" href="#auto-sizing">#</a></h3>
<p>Now, let’s take the previous example and remove all the fixed sizes.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-items"><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-items"><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> auto auto<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> auto auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <grid style="grid-template-rows: auto auto;grid-template-columns: auto auto;">
        <cell style="grid-area: 1/1;"></cell>
        <cell style="grid-area: 1/2;"></cell>
        <cell style="grid-area: 2/1;"></cell>
        <cell style="grid-area: 2/2;"></cell>
        <grid-item class="item1" style="grid-area: 1/1;">item 1</grid-item>
        <grid-item class="item2" style="grid-area: 1/2;">item 2</grid-item>
        <grid-item class="item3" style="grid-area: 2/1;">item 3</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>The grid cells and the grid items fill all the available space, and when you adjust the alignment, they will suddenly shrink to fit the content inside them.</p>
<blockquote data-emo="🤔">What’s the “normal” value?</blockquote>
<p>It’s the default value of the <code>*-content</code> and <code>*-items</code> properties (it was not <code>start</code>) and, in the context of a grid layout, it’s equal to “stretch”. As its name suggests, it will stretch the elements to fill all the available space.</p>
<blockquote data-emo="🧐">Why don’t we have a “stretch” value?</blockquote>
<p>The <code>stretch</code> value exists, and you can use it, but the <code>normal</code> value is a special one. In addition to being the default value, it has a different behavior based on the layout. In other words, we don’t have the same defaults for each layout, and the normal value will reflect this. We can also conclude that we always have redundant values since <code>normal</code> behaves the same as another value.</p>
<p>Here is another example with auto sizing and fixed sizing, where the list of all the alignment values is complete. Try different combinations and see how things behave.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> auto 200px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> auto 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <grid style="grid-template-rows: auto 100px;grid-template-columns: auto 200px;">
        <cell style="grid-area: 1/1;"></cell>
        <cell style="grid-area: 1/2;"></cell>
        <cell style="grid-area: 2/1;"></cell>
        <cell style="grid-area: 2/2;"></cell>
        <grid-item class="item1" style="width: 90px; height: 60px;grid-area: 1/1;">item 1</grid-item>
        <grid-item class="item2" style="grid-area: 1/2;">item 2</grid-item>
        <grid-item class="item3" style="grid-area: 2/1;">item 3</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>Notice how the alignment affects the dimensions of the auto-sized elements, while the fixed-size elements will only move based on the alignment configuration.</p>
<p>When the auto-sized grid cells get aligned, they will shrink to fit the content inside them. This observation is crucial because it explains many of the failures you can face when trying to align grid items. There is no space inside the grid cell because the grid cell size is the same as the grid item inside it due to “content level” alignment. And since grid cells are not visible, it’s not easy to identify the issue.</p>
<h3 id="auto-vs-1fr" tabindex="-1">auto vs 1fr <a class="header-anchor" href="#auto-vs-1fr">#</a></h3>
<p>Now let’s replace auto by 1fr</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 1fr 200px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 1fr 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <grid style="grid-template-rows: 1fr 100px;grid-template-columns: 1fr 200px;">
        <cell style="grid-area: 1/1;"></cell>
        <cell style="grid-area: 1/2;"></cell>
        <cell style="grid-area: 2/1;"></cell>
        <cell style="grid-area: 2/2;"></cell>
        <grid-item class="item1" style="width: 90px; height: 60px;grid-area: 1/1;">item 1</grid-item>
        <grid-item class="item2" style="grid-area: 1/2;">item 2</grid-item>
        <grid-item class="item3" style="grid-area: 2/1;">item 3</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>At first glance, it appears that we have the same output, but if you attempt to align the grid cells, nothing happens. Unlike <code>auto</code>, <code>1fr</code> will size the grid cells in a way to fill all the available space.</p>
<blockquote data-emo="🤨">1fr looks the same as stretch, why is the alignment not working?</blockquote>
<p>It’s similar to stretch, but with the sizing and not the alignment.</p>
<ul>
<li>When we define fixed sizes, the browser considers them, and any free space will remain unused. Then the alignment comes into play to place the grid cells.</li>
<li>When we define auto sizes, the browser leaves the job to the alignment. If no alignment is specified, the grid cells are stretched to fill all the available space. If an alignment is specified, the grid cells shrink to fit their content and are placed accordingly.</li>
<li>When we define <code>fr</code> sizes, the browser uses any available space to size the grid cells (the space is included in the size), leaving no free space, thus no room for alignment. Aligning the grid cells has no effect.</li>
</ul>
<p>It’s important to remember that sizing is closely related to alignment. We can only align if we have free space (the total size of the items is smaller than the container size). For this reason, the use of <code>fr</code> can be problematic for “content level” alignment because it will always consume the free space, leaving us with nothing to align.</p>
<h3 id="grid-item-placement" tabindex="-1">Grid Item Placement <a class="header-anchor" href="#grid-item-placement">#</a></h3>
<p>Having one grid item inside a grid cell (like all the previous examples) is easy, but what about the case where a grid item spans multiple grid cells? How is the grid item aligned?</p>
<p>First, let’s introduce the concept of the <strong>grid area</strong>. It’s the area where the grid item lives (it’s not really alive, but you get the idea). I said that a grid item is aligned within a grid cell, but in reality, the alignment happens inside the grid area. In the previous examples, the grid area is defined by one grid cell. However, if a grid item spans multiple columns or rows, its grid area will be the combination of multiple grid cells.</p>
<p>The logic of alignment remains the same, with an extra step: identify the area where the grid item is aligned.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 120px 150px 100px<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 100px 100px 80px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Auto size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <grid style="grid-template-rows: 100px 100px 80px;grid-template-columns: 120px 150px 100px;">
        <cell style="grid-area: 1/1;"></cell>
        <cell style="grid-area: 1/2;"></cell>
        <cell style="grid-area: 1/3;"></cell>
        <cell style="grid-area: 2/1;"></cell>
        <cell style="grid-area: 2/2;"></cell>
        <cell style="grid-area: 2/3;"></cell>
        <cell style="grid-area: 3/1;"></cell>
        <cell style="grid-area: 3/2;"></cell>
        <cell style="grid-area: 3/3;"></cell>
        <grid-item class="item1" style="grid-area: 1/1/span 2/span 2;">item 1</grid-item>
        <grid-item class="item2" style="grid-area: 1/3/span 2/span 1;">item 2</grid-item>
        <grid-item class="item3" style="grid-area: 3/1/span 1/span 2;">item 3</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>&quot;Item 1&quot; spans 2 columns and 2 rows (4 grid cells), &quot;Item 2&quot; spans 2 rows and 1 column (2 grid cells), and &quot;Item 3&quot; spans 2 columns and 1 row (2 grid cells).</p>
<p>Keep the stretch alignment of the grid items and adjust the alignment of the grid cells to visualize the grid area for each item. It’s the smallest rectangle that contains all the grid cells that a grid item should span.</p>
<div class="sum">
<ul>
<li>At the “content level”, we align the <strong>grid cells</strong> within the <strong>grid container</strong>.</li>
<li>At the “item level”, we align a <strong>grid item</strong> within its <strong>grid area</strong>.</li>
<li>A <strong>grid area</strong> consists of one or more adjacent <strong>grid cells</strong>.</li>
<li><code>normal</code> is the default value of the <code>*-content</code> and <code>*-items</code> properties. It behaves the same as <code>stretch</code> (It has no effect if we define fixed sizes).</li>
<li><code>auto</code> is the default value of the <code>*-self</code> properties. It means use the value set on the <code>*-items</code> properties.</li>
<li>The use of <code>fr</code> will consume all the free space, disabling any “content level” alignment in the corresponding axis.</li>
</ul>
</div>
<h2 id="flex-box-container" tabindex="-1">Flex(box) Container <a class="header-anchor" href="#flex-box-container">#</a></h2>
<p>Ready for the flexbox layout? You should because it’s harder than the grid layout!</p>
<blockquote data-emo="🤓">The first step is to identify the “content”, right?</blockquote>
<p>Yes, but in some cases, we don’t have a “content” to align. In the first section, I mentioned  two levels of alignment (<strong>content</strong> and <strong>item</strong>), but depending on the layout and the axis, one of the levels may not exist. Grid layout is easier to understand because both levels always exist. It’s not the case with flexbox, which can lead to a lot of confusion, but we are here to clear things up.</p>
<h3 id="flexbox-anatomy" tabindex="-1">Flexbox Anatomy <a class="header-anchor" href="#flexbox-anatomy">#</a></h3>
<p>Let’s first take a look at the anatomy of a flexbox layout.</p>
<p><picture><source type="image/avif" srcset="/img/qtomcxsf5a-1114.avif 1114w"><source type="image/webp" srcset="/img/qtomcxsf5a-1114.webp 1114w"><img alt="CSS Flexbox anatomy" loading="lazy" decoding="async" src="/img/qtomcxsf5a-1114.png" width="1114" height="548"></picture></p>
<p>Inside a <strong>flex container</strong>, we have <strong>flex lines</strong>. The number of lines depends on the wrapping of the items. We have as many lines as needed to contain all the <strong>flex items</strong>. While the word flexbox (aka flexible box) is often used, the correct terminology for the container is flex container. Flexbox refers to the entire concept/layout, but &quot;flex container&quot; is the name given to the container with <code>display: flex</code>.</p>
<blockquote data-emo="🧐">So the flex lines are the content, like with the grid cells?</blockquote>
<p>Yes and no! If we consider the vertical axis, the “content” is the flex lines, and we have both levels of alignment. On the horizontal axis, it’s a different story: We only have “content level” alignment (and it’s not to align the flex lines), but we don’t have “item level” alignment.</p>
<p>Don’t panic! Let’s take a closer look at the layout. Vertically, each item is alone on its flex line, allowing it to be aligned independently within that line, hence the existence of the “item level” alignment. As for the flex lines, they can be aligned vertically as a group (the &quot;content level&quot; alignment).</p>
<p>Horizontally, all the flex items are laid next to each other within the same flex line, so they are no longer independent. Using, for example, <code>justify-self: left</code> on a flex item doesn't make a lot of sense (left of what?), and if we cannot align items individually, we have no “item level” alignment. <code>justify-self</code> and <code>justify-items</code> are ignored inside a flex container.</p>
<p>All that remains is the “content level” alignment, but it’s not to align the flex lines. Horizontally, the flex lines always take all the available space, so we have nothing to align. The “content” in the horizontal axis is the flex items so <code>justify-content</code> will align the flex items.</p>
<blockquote data-emo="😫">But you said we cannot align the flex items?! I am lost.</blockquote>
<p>We cannot align them <strong>individually,</strong> but we can align them as a <strong>group</strong>. <code>justify-items: left</code> means that “each” item needs to be aligned on the left, but that’s not possible because we cannot define a “left” for each item. But <code>justify-content: left</code> aligns the whole content at the left, so all the items are stacked on the left.</p>
<p>At the “content level” alignment, we align all the elements as a group. Remember what we did in the grid layout. Did we align grid cells individually? Never; we always align them as a group. For this reason, we have values such as <code>space-between</code>, <code>space-evenly</code>, and <code>space-around</code>. Those values are not valid with “item level” alignment because we align items individually.</p>
<h3 id="ready-to-align-1" tabindex="-1">Ready to align? <a class="header-anchor" href="#ready-to-align-1">#</a></h3>
<p>Enough talking, let’s jump into the first demo to understand better. Similar to the grid demos, you can toggle the visibility of the flex lines.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.flex</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item1</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed height */</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item3</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item4</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item4" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item5</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item5" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <flex>
        <flex-line>
          <flex-item class="item1" style="width: 30%;">item 1</flex-item>
          <flex-item class="item2" style="width: 30%;height: 80px">item 2</flex-item>
          <flex-item class="item3" style="width: 20%;">item 3</flex-item>
        </flex-line>
        <flex-line>
          <flex-item class="item4" style="width: 40%;">item 4</flex-item>
          <flex-item class="item5">item 5</flex-item>
        </flex-line>
      </flex>
      <div class="bottom">
        <label><input type="checkbox" name="flex-line"> Hide flex lines</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>Did you notice it? We have a similar stretch behavior to the grid layout. The flex items and the flex lines fill all the vertical space by default. It means that the <code>normal</code> value (the default one) is the same as the <code>stretch</code> value. The only difference is that we cannot define the height of flex lines (unlike with grid cells), so they will always stretch unless you change the alignment. As for the flex items, you can define an explicit height (like with item 2), and you won’t have a stretch effect.</p>
<blockquote data-emo="🤔">Why don’t the flex items stretch horizontally as well?</blockquote>
<p>Good observation! Logically, they should stretch, but default behaviors are different from one layout to another. The stretch value is still a valid value of <code>justify-content</code>, but it’s the same as <code>start</code>. The <code>normal</code> value will also behaves as <code>start</code> which gives us three different values that do the same thing. Another reason why alignment can be confusing if you don’t understand it correctly.</p>
<p>The reason behind this choice is that we have the <code>flex-grow</code> property that controls the free space, so if you want a stretch behavior, add <code>flex-grow: 1</code> to all the flex items. Similar to the <code>fr</code> sizing, the use of <code>flex-grow</code> with at least one flex item will disable the content alignment in the corresponding line because it will consume all the available space. Always remember that sizing and alignment are closely related.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.flex</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item1</span> <span class="token punctuation">{</span>
  <span class="token property">flex-grow</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed height */</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item3</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item4</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item4" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item5</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item5" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <flex>
        <flex-line>
          <flex-item class="item1" style="width: 30%;flex-grow: 1;">item 1</flex-item>
          <flex-item class="item2" style="width: 30%;height: 80px">item 2</flex-item>
          <flex-item class="item3" style="width: 20%;">item 3</flex-item>
        </flex-line>
        <flex-line>
          <flex-item class="item4" style="width: 40%;">item 4</flex-item>
          <flex-item class="item5">item 5</flex-item>
        </flex-line>
      </flex>
      <div class="bottom">
        <label><input type="checkbox" name="flex-line"> Hide flex lines</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>In the first line, item 1 is consuming all free space, so <code>justify-content</code> will have no effect. Only the items on the second line are aligned.</p>
<h3 id="to-wrap-or-not-to-wrap" tabindex="-1">To Wrap or not to Wrap <a class="header-anchor" href="#to-wrap-or-not-to-wrap">#</a></h3>
<p>In the previous examples, I activated the wrapping by adding <code>flex-wrap: wrap</code>, but let’s not forget that the default value is <code>nowrap</code>, which means all items are forced to stay on the same line even if they would overflow.</p>
<blockquote data-emo="🤨">What does the wrapping have to do with alignment?</blockquote>
<p>With a <code>nowrap</code> configuration, we no longer have “content level” alignment vertically. We have only one flex line that always fills all the vertical space (Nothing to align). Now, you know why <code>align-content</code> never works with flexbox!</p>
<p>Ready for more flexbox mysteries? If we activate the wrapping, but the items don't wrap (there is enough space for them to stay next to each other), do we have “content level” alignment or not?</p>
<blockquote data-emo="🫣">We have one flex line, so logically no.</blockquote>
<p>False! We have one flex line, but we can align it using <code>align-content</code>. Whatever the number of flex lines, if you use <code>flex-wrap: wrap</code>, the “content level” alignment is activated vertically. In the demo below, you can update the <code>flex-wrap</code> property and see its impact on <code>align-content</code>.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.flex</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> <select data-element="flex" data-property="flex-wrap"><option value="wrap">wrap</option><option value="nowrap">nowrap</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item1</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed height */</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item3</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <flex>
        <flex-line>
          <flex-item class="item1" style="width: 30%;">item 1</flex-item>
          <flex-item class="item2" style="width: 30%;height: 80px">item 2</flex-item>
          <flex-item class="item3" style="width: 20%;">item 3</flex-item>
        </flex-line>
      </flex>
      <div class="bottom">
        <label><input type="checkbox" name="flex-line"> Hide flex lines</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>By understanding this mechanism, you unlock a secret way to center an element inside a flex container.</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.center</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><br>  <span class="token property">place-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p><code>place-content</code> alone centers horizontally because only <code>justify-content</code> is considered. <code>align-content</code> is ignored until you activate the wrapping.</p>
<h3 id="row-or-column" tabindex="-1">Row or Column? <a class="header-anchor" href="#row-or-column">#</a></h3>
<p>It’s time to talk about <code>flex-direction</code>. As you know, we can either have a row direction (the default configuration) or a column direction. When we change to a column direction, everything is flipped.</p>
<p><picture><source type="image/avif" srcset="/img/ic8h-LhrF5-983.avif 983w"><source type="image/webp" srcset="/img/ic8h-LhrF5-983.webp 983w"><img alt="row direction vs column direction" loading="lazy" decoding="async" src="/img/ic8h-LhrF5-983.png" width="983" height="513"></picture></p>
<p>The items are placed from top to bottom, and the flex lines behave like columns. The logic of alignment remains the same, but the axes are switched. For this reason, we typically refer to the <strong>main</strong> and <strong>cross</strong> axes in a flexbox layout. When the direction is row, the main axis is the horizontal one and the cross axis the vertical one. When the direction is column, the main axis is the vertical one, and the cross axis is the horizontal one.</p>
<p>The <code>justify-content</code> property works on the <strong>main</strong> axis, and the <code>align-*</code> properties work on the <strong>cross</strong> axis.</p>
<blockquote data-emo="😵">So the same property can align horizontally and vertically?!</blockquote>
<p>Exactly! For example, <code>justify-content</code> is used to align the flex items horizontally, but if you change the direction to column, it will align them vertically!</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.flex</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> <select data-element="flex" data-property="align-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item1</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed width */</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item3</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item4</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item4" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.flex .item5</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item5" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <flex style="flex-direction: column;">
        <flex-line style="flex-direction: inherit;height: 100%;width: auto;">
          <flex-item class="item1" style="height: 30%;">item 1</flex-item>
          <flex-item class="item2" style="height: 30%;width: 120px">item 2</flex-item>
          <flex-item class="item3" style="height: 20%;">item 3</flex-item>
        </flex-line>
        <flex-line style="flex-direction: inherit;height: 100%;width: auto;">
          <flex-item class="item4" style="height: 40%;">item 4</flex-item>
          <flex-item class="item5">item 5</flex-item>
        </flex-line>
      </flex>
      <div class="bottom">
        <label><input type="checkbox" name="flex-line"> Hide flex lines</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>Do you see why flexbox is harder than grid? Three values of <code>justify-content</code> behave the same, <code>justify-items</code> is ignored, <code>align-content</code> doesn’t work unless you activate the wrapping, we cannot control the height of the flex lines, and <code>flex-direction</code> will flip the whole layout.</p>
<div class="sum">
<ul>
<li>We have the <strong>main</strong> and <strong>cross</strong> axes:
<ul>
<li>row direction: main = horizonal and cross = vertical.</li>
<li>column direction: main = vertical and cross = horizontal.</li>
</ul>
</li>
<li>In the <strong>main</strong> axis, we only have “content level” alignment, where we align the <strong>flex items</strong>.</li>
<li>There is no stretch alignment in the main axis (<code>normal</code> and <code>stretch</code> behave as <code>start</code>).</li>
<li>In the <strong>cross</strong> axis:
<ul>
<li>At the “content level”, we align the <strong>flex lines</strong> within the <strong>flex container</strong>.</li>
<li>At the “item level”, we align a <strong>flex item</strong> within its <strong>flex line,</strong>.</li>
</ul>
</li>
<li><code>flex-wrap: nowrap</code> disables the “content level” alignment in the <strong>cross</strong> axis.</li>
</ul>
</div>
<h2 id="block-container" tabindex="-1">Block Container <a class="header-anchor" href="#block-container">#</a></h2>
<p>When discussing layout, we often refer to flexbox and grid, and we forget the default layout that involves block and inline elements. Similar to a grid container and a flex container, a block container follows the same alignment logic.</p>
<blockquote data-emo="😩">Again? Content, items, level of alignment, and all the stuff?!</blockquote>
<p>Yes, but don’t worry, it’s going to be easy because on each axis we have only one level of alignment. On the vertical axis, we have “content level” alignment, and on the horizontal axis, we have “item level” alignment.</p>
<h3 id="block-anatomy" tabindex="-1">Block Anatomy <a class="header-anchor" href="#block-anatomy">#</a></h3>
<p><picture><source type="image/avif" srcset="/img/IDE8wpU-jF-1107.avif 1107w"><source type="image/webp" srcset="/img/IDE8wpU-jF-1107.webp 1107w"><img alt="block anatomy" loading="lazy" decoding="async" src="/img/IDE8wpU-jF-1107.png" width="1107" height="537"></picture></p>
<p>Inside a <strong>block container</strong>, <strong>block elements</strong> are placed on top of each other. As simple as that! Don’t forget that the <code>html</code> and <code>body</code> are the first block containers you have in your code.</p>
<h3 id="ready-to-align-2" tabindex="-1">Ready to align? <a class="header-anchor" href="#ready-to-align-2">#</a></h3>
<p>Horizontally, the block elements are placed on top of each other. It means we can align them individually on the horizontal axis, so we have “item level” alignment, and we can use <code>justify-items</code> and <code>justify-self</code>. We don’t have “content level” alignment on the horizontal axis, so <code>justify-content</code> is ignored.</p>
<p>Vertically, we cannot align each item individually since they are placed together on that axis. We don’t have “item level” alignment so <code>align-items</code> and <code>align-self</code> are ignored. It’s the same logic we had with flexbox, where the flex items are placed together on the same flex line.</p>
<p>What remains is “content level” alignment on the vertical axis, and for that, we need to identify the “content”. It’s the smallest rectangle that can contain all the items inside the container. In other words, it’s a rectangle that has the same width as the container (since we don’t have “content level” alignment horizontally) and the items inside it define its height.</p>
<blockquote data-emo="🤔">But you are describing the container. What’s the difference between the container and the content?</blockquote>
<p>In 90% of the cases, we can say that the content is the same as its container since the latter, by default, has its height defined by the items inside it, BUT once we explicitly define a height for the container, we can see a difference. Don’t forget that alignment is closely related to the sizing and free space.</p>
<p>The content will <strong>always</strong> have its height defined by the items, but the container can either have its height defined by the items (the default behavior) or specified differently (by setting the height property or inside a layout where other properties define its height).</p>
<p>Here is a demo where you can adjust the alignment properties as well as the height property.</p>
<p>⚠️ <em>Only Chrome has full support of the alignment properties inside block container</em> ⚠️</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.block</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <select data-element="block" data-property="height"><option value="100%">100%</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="block" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="block" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.block .item1</span> <span class="token punctuation">{</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.block .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.block .item3</span> <span class="token punctuation">{</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <block style="align-self: start;height: 100%;--g:20px">
        <div>
          <div class="item1">Item 1</div>
          <div class="item2" style="width: 200px;height: 100px">Item 2</div>
          <div class="item3">Item 3</div>
        </div>
      </block>
      <div class="bottom">
        <label><input type="checkbox" name="block-content"> Hide "content"</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>If <code>height: auto</code> is specified <code>align-content</code> will do nothing since the container height will be the same as the “content” (no free space), and we don’t have a stretch behavior, so <code>normal</code> and <code>stretch</code> will behave the same as <code>start</code>.</p>
<p>And since &quot;content&quot; is always one element inside a block container, <code>space-around</code> and <code>space-evenly</code> will behave the same as <code>center</code>! Yes, you can vertically center the content using <code>align-content: space-around</code> or <code>align-content: space-evenly</code>. Worth noting that the same applies to flexbox and grid if we have one flex line or one grid cell in the corresponding axis.</p>
<p>You have unlocked additional ways to center a single element inside a container!</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.center</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>  <span class="token property">place-content</span><span class="token punctuation">:</span> space-around | space-evenly<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.center</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><br>  <span class="token property">place-content</span><span class="token punctuation">:</span> space-around | space-evenly<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="what-about-inline-elements" tabindex="-1">What about inline elements? <a class="header-anchor" href="#what-about-inline-elements">#</a></h3>
<p>When dealing with inline elements, we have two situations. The first situation occurs when a block container contains only inline elements (such as images, text, inputs, inline-block elements, etc.). In this case, since there are no block elements inside, we don’t have “item level” alignment horizontally. We only have “content level” alignment vertically.</p>
<blockquote data-emo="🤔">So we cannot align inline elements horizontally?!</blockquote>
<p>Not with the alignment properties, but using a simple <code>text-align</code>. I don’t want to include this property in the same group as the others, as it’s used to align a particular content: inline content. You don’t always need to use <code>display: flex</code> or <code>display: grid</code> everywhere to align stuff. Sometimes a simple <code>text-align</code> will do the job, especially when dealing with text.</p>
<p>The second situation is when a block container contains a mix of inline and block elements. The browser doesn’t like this and will try to “fix” the layout to make sure there are only block elements inside the block container. To achieve this, the browser creates “anonymous block boxes” to encapsulate the inline elements.</p>
<p>Take the following code:</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>  some text<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span> text inside the setion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>  more text<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
<p>Within <code>body</code>, we have a block element (section) with inline content (text). The browser will do the following:</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>anonymous_block</span><span class="token punctuation">></span></span>some text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>anonymous_block</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span> text inside the setion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>anonymous_block</span><span class="token punctuation">></span></span>more text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>anonymous_block</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
<p>Both texts are now inside block elements, and we are back to a configuration where we have only block elements inside the block container.</p>
<p>Now that the structure is in place, we can align the elements but …</p>
<blockquote data-emo="🤓">We cannot align the anonymous block boxes, right?</blockquote>
<p>Exactly! Since those blocks don’t really exist, you cannot target them to apply <code>justify-self</code> and <code>justify-items</code> will also ignore them.</p>
<p>It should be noted that the block elements inside the block container are also block containers for their content (unless you update their display value), so in the end, it’s an imbrication of block containers until we reach block containers that contain only inline elements.</p>
<p>Here is a code with different levels of block containers, where there is one anonymous block box (can you figure out where it is?)</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item2_1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item 2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item2_2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item 2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  Item 3 <br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item3_1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>item 3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>And a demo using the above structure. Click shuffle and have fun!</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.block</span> <span class="token punctuation">{</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="block" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element="block" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.block .item1</span> <span class="token punctuation">{</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.block .item2</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed size */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span class="token selector">.block .item2 .item2_1</span> <span class="token punctuation">{</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2_1" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.block .item2 .item2_2</span> <span class="token punctuation">{</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2_2" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.block .item3</span> <span class="token punctuation">{</span> <span class="token comment">/* Fixed height */</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-items</span><span class="token punctuation">:</span> <select data-element=".item3" data-property="justify-items"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <block style="--g:10px">
        <div>
          <div class="item1">Item 1</div>
          <div class="item2" style="width: 200px;height: 180px">
            <div class="item2_1">item 2.1</div>
            <div class="item2_2">item 2.2</div>
          </div>
          <div class="item3"  style="height:140px">
            Item 3
            <div class="item3_1">item 3.1</div>
          </div>
        </div>
      </block>
      <div class="bottom">
        <label style="visibility: hidden;"><input type="checkbox" name="block-content" checked> Hide "content"</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<div class="sum">
<ul>
<li>In a <strong>block container</strong>, we have only one level of alignment per axis: “content level” alignment vertically and “item level” alignment horizontally.
<ul>
<li>An <strong>item</strong> is a <strong>block element</strong>.</li>
<li>The <strong>content</strong> is the smallest rectangle containing all the items.</li>
</ul>
</li>
<li>There is no stretch behavior for <strong>content</strong></li>
<li>A <strong>block container</strong> can either contain inline elements or block elements. When both are present, the browser will create “anonymous block boxes” to encapsulate the inline elements.</li>
<li>We cannot align the “anonymous block boxes”.</li>
<li>When a <strong>block container</strong> contains inline elements, there is no “item level” alignment horizontally. You can use <code>text-align</code> to align the inline elements horizontally.</li>
</ul>
</div>
<h2 id="auto-margins" tabindex="-1">auto margins <a class="header-anchor" href="#auto-margins">#</a></h2>
<p><code>margin: auto</code> is a classic, right? You can add it to any element, and you have a 90% chance of centering it, plus it works with all the layouts. It's time to understand what the <code>auto</code> value is doing to avoid the 10% of times where it doesn’t behave like you expect.</p>
<p>Let’s introduce the concept of a <strong>margin box</strong>. As you know, an element can have padding, border, and margin. The margin box of an element is a box that contains the element plus its margin. We generally consider margin as a space around an element, but that space is still part of the element.</p>
<blockquote data-emo="🙄">Is this important for alignment? </blockquote>
<p>Yes, because when we align an item, we align its <strong>margin box</strong>. For example, if you add <code>margin: 10px</code> to an element and align it to the left, then you will have 10px of space between the left edge of the container and the left edge of the element. Seen differently, we have 0 space between the margin box of the element and the container. Understanding that margin is included in the alignment is crucial for understanding how auto margin works.</p>
<p>Here is a demo that allows you to align an element and update its margin. I am using a grid layout, but the same applies to all the layouts.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.grid</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="justify-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> <select data-element="grid" data-property="align-content"><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option><option value="space-between">space-between</option><option value="space-evenly">space-evenly</option><option value="space-around">space-around</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token selector">.grid .item</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <select data-element=".item" data-property="height"><option value="60px">60px</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <select data-element=".item" data-property="width"><option value="90px">90px</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <select data-element=".item" data-property="margin"><option value="0px">0px</option><option value="20px">20px</option><option value="60px">60px</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="alijustifygn-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: 300px;">
      <grid>
        <cell style="grid-area: 1/1;"></cell>
        <grid-item class="item margin-box" style="width: 90px; height: 60px;grid-area: 1/1;">item</grid-item>
      </grid>
      <div class="bottom">
        <label><input type="checkbox" name="grid-cell"> Hide grid cells</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>Now, if you use <code>margin-left: auto</code>, you tell the browser to shrink the element to its content size (no more stretching) and use any free space on the horizontal axis to transform it into a margin. I will repeat it: <strong>any free space will be transformed into a margin.</strong></p>
<blockquote data-emo="😕">But margin-left: auto will push the element to the right, no?</blockquote>
<p>It will as a side effect. If all the free space is transformed into a margin left, then the element will be pushed to the right. In this case, the margin box will fill all the available space, and we have no room for any further alignment. I refer to “item level” alignment since we can apply margin to only items and not to the content (we cannot have margin for grid cells, flex lines, etc).</p>
<p>The logic is as follows when we process “item level” alignment:</p>
<ul>
<li>If we have no fixed size and no auto margin, the item is stretched to fill all the available space unless an alignment different from stretch is defined.</li>
<li>If we have a fixed size and no auto margin, we have unused free space (no stretch behavior), and the alignment will place the element accordingly.</li>
<li>If we have no fixed size and auto margin, the item shrinks to fit its content, and any free space will be used as margin: no stretch behavior and no room for alignment.</li>
<li>If we have a fixed size and auto margin, any free space will be used as margin: no stretch behavior and no room for alignment.</li>
</ul>
<p>It appears that we are aligning using auto margin (which is visually evident) but in reality we are increasing the margin box of an element by transforming the free space into a margin.</p>
<blockquote data-emo="🤔">So what is the difference between margin: auto and place-self: center?</blockquote>
<p>In most cases, you will see no visual difference. Both will center the element, but with <code>margin: auto</code>, the margin box of the element will fill all the available space, while in the second case, the margin box is equal to the element size and we have free space around the element.</p>
<p>A few more notes:</p>
<ul>
<li>auto margin works on the main axis in flexbox, even if we don’t have “item level” alignment. If flex-grow is used, it will consume the free space before the auto margin.</li>
<li>When auto margin is used on both sides (top and bottom or left and right), the free space will be equally split between both sides. That’s what centers an item.</li>
<li>With block elements, auto margin doesn’t work vertically (the only case where auto margin doesn’t work). Horizontally, you generally need to define a width (or max-width) to see the effect of auto margin.</li>
</ul>
<h2 id="absolutely-positioned-elements" tabindex="-1">Absolutely-positioned elements <a class="header-anchor" href="#absolutely-positioned-elements">#</a></h2>
<p>Elements with <code>position: absolute</code> (or <code>fixed</code>) are a bit special, but the logic of alignment still applies to them. In this situation, we have a “lonely” out-of-flow element that needs to be aligned within a specific area. We only have “item level” alignment, and since it’s one item, only the <code>*-self</code> properties are concerned.</p>
<p>First, let’s introduce the concept of <strong>containing block</strong>. In this context, it refers to the padding box of the nearest ancestor with a position value other than <code>static</code>. That moment when you need to set <code>position: relative</code> to the parent element; the padding area of that element is the containing block.</p>
<p>Now let’s talk about the <strong>inset-modified containing block</strong> (I will refer to it as <strong>IMCB</strong>). When you define the values for the top/left/right/bottom properties (or the <code>inset</code> shorthand property), you are defining the area of the IMCB. For example, if you use <code>inset: 0</code>, the IMCB area is the same as the containing block. If you set <code>inset: 10px</code>, you reduce the area from each side by 10px.</p>
<p>That IMCB is the area where we align the element using <code>*-self</code> properties. Here is a demo where you can adjust the top/left/right/bottom as well as the alignment values.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.container .item</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <select data-element="imcb" data-property="top"><option value="auto">auto</option><option value="0px">0px</option><option value="20px">20px</option><option value="30%">30%</option></select><span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <select data-element="imcb" data-property="bottom"><option value="auto">auto</option><option value="0px">0px</option><option value="20px">20px</option><option value="30%">30%</option></select><span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <select data-element="imcb" data-property="left"><option value="auto">auto</option><option value="0px">0px</option><option value="20px">20px</option><option value="30%">30%</option></select><span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> <select data-element="imcb" data-property="right"><option value="auto">auto</option><option value="0px">0px</option><option value="20px">20px</option><option value="30%">30%</option></select><span class="token punctuation">;</span>
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="justify-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> <select data-element=".item" data-property="align-self"><option value="auto">auto</option><option value="normal">normal</option><option value="stretch">stretch</option><option value="start">start</option><option value="center">center</option><option value="end">end</option></select><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result">
      <block style="position: relative;">
        <imcb style="position: absolute;display: grid;">
          <grid-item class="item" >item</grid-item>
        </imcb>
      </block>
      <div class="bottom">
        <label><input type="checkbox" name="imcb"> Hide the IMCB</label>
        <button onclick="shuffle(this)">Shuffle!</button>
      </div>
  </div>
</div>
<p>Notice how the element is stretched within the IMCB until you update the alignment, which means the <code>normal</code> value is equivalent to <code>stretch</code> as well.</p>
<blockquote data-emo="🤔">What about elements with position: fixed?</blockquote>
<p>They follow the same logic but have a different containing block. It’s the viewport, not the nearest ancestor with a position value other than <code>static</code>.</p>
<blockquote data-emo="🤔">And what about centering using left: 50%; top:50%; translate: -50%  -50%</blockquote>
<p>That’s what most of the online resources will recommend, but I consider it as the old way. It’s still valid and you can use it, but keep in mind that the use <code>*-self</code> properties makes more sense as it’s more intuitive. After all, <code>inset: 0; place-self: center</code> is much clearer.</p>
<blockquote data-emo="🤔">Can we use margin: auto to align as well?</blockquote>
<p>Yes, but you are required to define a size. Unlike with flexbox or grid, auto margin will not shrink the element, so if no size is specified, we don’t have free space to transform into margin. It’s similar to block elements where we need an explicit width (or max-width) to see the effect of auto margin.</p>
<p>Centering with margin will looks like below:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.center</span> <span class="token punctuation">{</span><br>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>  <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>  <span class="token property">width</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span><br>  <span class="token property">height</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span><br>  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>It’s valid as well, but a bit more verbose compared to</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.center</span> <span class="token punctuation">{</span><br>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>  <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>  <span class="token property">place-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Worth noting that the use of the <code>*-self</code> properties with absolutely-positioned elements is quite new, and <a href="https://caniuse.com/mdn-css_properties_place-self_position_absolute_context" target="_blank" rel="noopener">some old browsers don’t support it</a>. You may still need to use the translate or the auto margin method for a while until better support.</p>
<h2 id="safe-alignment" tabindex="-1">Safe alignment <a class="header-anchor" href="#safe-alignment">#</a></h2>
<p>Ready for one last thing? I promise it’s the last and easiest one!</p>
<p>I told you that alignment is always related to sizing and free space. We can only align if we have free space; otherwise, nothing will happen. In some cases, the free space can be negative, meaning the total size of the items exceeds the container size.</p>
<blockquote data-emo="🧐">The items will overflow, right?</blockquote>
<p>Yes, but we can still align them when they overflow. Here is a demo where you can update the width of the container and see how the items are aligned.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the width */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <select data-element="grid" data-property="width"><option value="100%">100%</option><option value="200px">200px</option></select><span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token comment">/* to force the overflow */</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: auto;">
      <grid style="place-self: start center;width: 100%;white-space:nowrap;padding:10px;">
        <grid-item class="item1" style="min-width: 0;padding: 20px;justify-self: center;">I am a centred item</grid-item>
        <grid-item class="item2" style="min-width: 0;padding: 20px;justify-self: end;">I am aligned at the end</grid-item>
      </grid>
  </div>
</div>
<p>The first one is centered (it overflows from both sides), and the second one is aligned to the end (it overflows from the left side). Until now, it’s ok but things start to get messy when we add a scrollbar to the container. When the container is small and you try to scroll it, the content on the left is unreachable!</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the width and the overflow */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <select data-element="grid" data-property="width"><option value="100%">100%</option><option value="200px">200px</option></select><span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> <select data-element="grid" data-property="overflow"><option value="visible">visible</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token comment">/* to force the overflow */</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: auto;">
      <grid style="place-self: start center;width: 100%;white-space:nowrap;padding:10px;">
        <grid-item class="item1" style="min-width: 0;padding: 20px;justify-self: center;">I am a centred item</grid-item>
        <grid-item class="item2" style="min-width: 0;padding: 20px;justify-self: end;">I am aligned at the end</grid-item>
      </grid>
  </div>
</div>
<p>I won’t bother you with the “why” it behaves like that, but you can fix this by using safe alignment. For example, instead of using <code>justify-self: center</code>, you can use <code>justify-self: safe center</code>. The <code>safe</code> value is valid with all the alignment properties.</p>
<blockquote data-emo="😕">Why is “safe” not the default behavior?</blockquote>
<p>I cannot tell the exact reason for this choice, but in some cases, you may want the default behavior especially if you don’t have a scrollbar mechanism. Don’t automatically add the <code>safe</code> value everywhere, thinking it’s good to be safe. Use it only when you are unable to scroll the whole content.</p>
<p>In the demo below, you can toggle the safe alignment for the items and see how it behaves when the container size is small.  Notice how for both elements the alignment becomes <code>start</code> when we have an overflow.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <select data-element="grid" data-property="width"><option value="100%">100%</option><option value="200px">200px</option></select><span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> <select data-element="grid" data-property="overflow"><option value="visible">visible</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token comment">/* to force the overflow */</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item1" data-property="justify-self"><option value="center">center</option><option value="safe center">safe center</option></select><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> 
  <span class="token property">justify-self</span><span class="token punctuation">:</span> <select data-element=".item2" data-property="justify-self"><option value="end">end</option><option value="safe end">safe end</option></select><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: auto;">
      <grid style="place-self: start center;width: 100%;white-space:nowrap;padding:10px;">
        <grid-item class="item1" style="min-width: 0;padding: 20px;justify-self: center;">I am a centred item</grid-item>
        <grid-item class="item2" style="min-width: 0;padding: 20px;justify-self: end;">I am aligned at the end</grid-item>
      </grid>
  </div>
</div>
<p>It should be noted that aligning with auto margin is always “safe”. You will never encounter such an issue since margin only considers positive free space and will have no effect when we have a negative free space. Here is the same demo where I am using margin instead of the alignment properties.</p>
<div class="demo-explore">
  <div class="code">
    <pre class="language-css" tabindex="0"><code class="language-css"> <span class="token comment">/* Update the values */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <select data-element="grid" data-property="width"><option value="100%">100%</option><option value="200px">200px</option></select><span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> <select data-element="grid" data-property="overflow"><option value="visible">visible</option><option value="auto">auto</option></select><span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token comment">/* to force the overflow */</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item1</span> <span class="token punctuation">{</span> 
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.grid .item2</span> <span class="token punctuation">{</span> 
  <span class="token property">margin-left</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="result" style="min-height: auto;">
      <grid style="place-self: start center;width: 100%;white-space:nowrap;padding:10px;">
        <grid-item class="item1" style="min-width: 0;padding: 20px;margin: auto;">I am a centred item</grid-item>
        <grid-item class="item2" style="min-width: 0;padding: 20px;margin-left: auto;">I am aligned at the end</grid-item>
      </grid>
  </div>
</div>
<h2 id="already-the-end" tabindex="-1">Already the end? <a class="header-anchor" href="#already-the-end">#</a></h2>
<p>We reached the end of this exploration, and I hope you enjoyed it. Don't be discouraged if some parts were a bit complex. It often takes a couple of readings for new concepts to become clear, so bookmark the link and get back from time to time to refresh your memory.</p>
<p>I attempted to cover the most important concepts of alignment, but I don’t consider this exploration to be 100% complete. I deliberately omitted a few things that you will probably never need. I may also update the content at any time to ensure it remains up to date.</p>
<p>Let’s end with a small quiz and see how much you retained from this exploration.</p>
<hr>
<h2 id="quiz" tabindex="-1">Quiz <a class="header-anchor" href="#quiz">#</a></h2>
<p>In a flexbox layout, <code>justify-content</code> can be used to align flex items:</p>
<div class="answers">
<label><input type="radio" name="quiz-1" value="0"> Vertically</label>
<label><input type="radio" name="quiz-1" value="0"> Horizontally</label>
<label><input type="radio" name="quiz-1" value="1"> Both</label>
<label><input type="radio" name="quiz-1" value="0"> It’s not valid in flexbox</label>
</div>
<p>Which of the following is not a valid property:</p>
<div class="answers">
<label><input type="radio" name="quiz-2" value="0"> place-content</label>
<label><input type="radio" name="quiz-2" value="1"> justify-item</label>
<label><input type="radio" name="quiz-2" value="0"> align-self</label>
<label><input type="radio" name="quiz-2" value="0"> They are all valid</label>
</div>
<p><code>space-between</code> can be used with:</p>
<div class="answers">
<label><input type="radio" name="quiz-3" value="0"> justify-content</label>
<label><input type="radio" name="quiz-3" value="0"> align-content</label>
<label><input type="radio" name="quiz-3" value="0"> place-content</label>
<label><input type="radio" name="quiz-3" value="1"> All the above</label>
</div>
<p>A grid item is aligned within a:</p>
<div class="answers">
<label><input type="radio" name="quiz-4" value="0"> grid container</label>
<label><input type="radio" name="quiz-4" value="1"> grid area</label>
<label><input type="radio" name="quiz-4" value="0"> grid template</label>
<label><input type="radio" name="quiz-4" value="0"> grid box</label>
</div>
<p>In a grid layout, <code>place-content</code> will align:</p>
<div class="answers">
<label><input type="radio" name="quiz-5" value="0"> The grid items</label>
<label><input type="radio" name="quiz-5" value="1"> The grid cells</label>
<label><input type="radio" name="quiz-5" value="0"> The grid container</label>
<label><input type="radio" name="quiz-5" value="0"> It will do nothing</label>
</div>
<p>In a flexbox layout, <code>align-content</code> will align:</p>
<div class="answers">
<label><input type="radio" name="quiz-6" value="1"> The flex lines</label>
<label><input type="radio" name="quiz-6" value="0"> The flex items</label>
<label><input type="radio" name="quiz-6" value="0"> The flex container</label>
<label><input type="radio" name="quiz-6" value="0"> It will do nothing</label>
</div>
<p>When we align an item, we align its:</p>
<div class="answers">
<label><input type="radio" name="quiz-7" value="1"> margin box</label>
<label><input type="radio" name="quiz-7" value="0"> containing block</label>
<label><input type="radio" name="quiz-7" value="0"> box area</label>
<label><input type="radio" name="quiz-7" value="0"> content</label>
</div>
<p>In a flexbox layout, what property can disable content alignment vertically:</p>
<div class="answers">
<label><input type="radio" name="quiz-8" value="0"> flex-column</label>
<label><input type="radio" name="quiz-8" value="1"> flex-wrap</label>
<label><input type="radio" name="quiz-8" value="0"> flex-grow</label>
<label><input type="radio" name="quiz-8" value="0"> We cannot do that</label>
</div>
<p>The <code>safe</code> value can be used with:</p>
<div class="answers">
<label><input type="radio" name="quiz-9" value="0"> align-content</label>
<label><input type="radio" name="quiz-9" value="0"> justify-content</label>
<label><input type="radio" name="quiz-9" value="0"> justify-self</label>
<label><input type="radio" name="quiz-9" value="1"> All the above</label>
</div>
<p>Which of the following is a valid value:</p>
<div class="answers">
<label><input type="radio" name="quiz-10" value="0"> space-equally</label>
<label><input type="radio" name="quiz-10" value="1"> space-around</label>
<label><input type="radio" name="quiz-10" value="0"> space-jam</label>
<label><input type="radio" name="quiz-10" value="0"> space-inside</label>
</div>
<p><button onclick="validate()">Validate</button></p>
<div class="quiz-result"></div>
<script>
  let all_select = document.querySelectorAll(".demo-explore select");

  for (let i=0;i<all_select.length;i++) {
    all_select[i].addEventListener("change", function(e) {
      e.target.closest(".demo-explore").querySelector(e.target.dataset.element).style.setProperty(e.target.dataset.property,e.target.value)
    })
  }

  function shuffle(e) {
    let s = e.closest(".demo-explore").querySelectorAll("select");
    for (let i=0;i<s.length;i++) {
      s[i].selectedIndex = Math.floor(Math.random() * s[i].options.length);
      s[i].dispatchEvent(new Event('change', { bubbles: true }))
    }
  }

  function validate() {
    let as = document.querySelectorAll("input[type=radio][name*=quiz]:checked");
    let s = 0;
    for (let i=0;i<as.length;i++) {
      s+=parseInt(as[i].value);
    }
    document.querySelector(".quiz-result").innerHTML= `Your Result: ${s}/10`;
  }
</script>
		</main>
		<aside>
			<div id="custom-wall" style="height: 230px;"></div>
			<div style="height:400px;overflow: clip;"><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CW7D653J&placement=css-tipcom&format=cover" id="_carbonads_js"></script></div>
			<a href="https://css-loaders.com/" target="_blank" rel="noopener">
				<img src="/img/css-loader.jpg" alt="CSS Loaders" >
			</a>
			<a href="https://css-shape.com/" target="_blank" rel="noopener">
				<img src="/img/css-shape.jpg" alt="CSS Shape" >
			</a>
			<a href="https://ko-fi.com/temani" target="_blank" rel="noopener">
				<img src="/img/kofi.png" alt="Buy Me a coffe" >
			</a>
		</aside>
		<footer>
			<p>Created by <a href="/about/" target="_blank">Temani Afif</a> | <a href="https://css-generators.com/" target="_blank" rel="noopener">CSS Generators</a> | <a href="https://css-loaders.com/" target="_blank" rel="noopener">CSS Loaders</a> | <a href="https://css-shape.com/" target="_blank" rel="noopener">CSS Shape</a> | <a href="https://css-pattern.com/" target="_blank" rel="noopener">CSS Pattern</a></p>
		</footer>
	<script src="https://m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<script>
(function() {
  if (typeof _bsa !== 'undefined' && _bsa) {
    _bsa.initBatch('custom', 'CW7D653L', 'placement:css-tipcom', {
    //_bsa.initBatch('custom', 'CVADC53U', 'placement:yoursitedomain', {
      target: '#custom-wall',
      template:
`
<a href="##statlink##" class="wall" style="background-color: ##backgroundColor##; color: ##textColor##" rel="sponsored noopener" target="_blank" title="##company## — ##tagline##">
  <div class="wall__sponsor">Sponsored by ##company##</div>
  <div class="wall__tagline">##companyTagline##</div>
  <div class="wall__description">##description##</div>
  <div class="wall__footer">
    <div class="wall__image"><img src="##logo##"></div>
    <div class="wall__cta" style="background-color: ##ctaBackgroundColor##; color: ##ctaTextColor##;">##callToAction##</div>
  </div>
</a>
`});
  _bsa.initBatch('responsive', 'CW7DPK7N', 'placement:css-tipcom', { target: "#inline-custom" });
  //_bsa.initBatch('responsive', 'CVADC53U', 'placement:yoursitedomain', { target: "#inline-custom" });
  _bsa.loadBatch();
  }
})();
function BSANativeCallback({ ads, key }) {
	let custom = document.querySelector("#custom-wall");
  if (ads.length === 0 && custom.childElementCount === 0) {
  	custom.innerHTML='<div class="sponso">\
				<a href="/advertise/"><small>Place your ad here</small></a>\
				<p>Reach a wide audience of web developers with a personalized and attractive ad.</p>\
				<p>Don\'t miss the opportunity to promote your product starting from <strong>150$/month</strong>.</p>\
				<a href="/advertise/">Advertise with CSS Tip</a>\
			</div>';
		custom.style.height="";	
  }
}
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KSNXZ63602"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-KSNXZ63602');
</script>
	</body>
</html>
