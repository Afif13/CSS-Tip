<!DOCTYPE html><!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Why :is(::before,::after) doesn&#39;t work?</title>
		<link rel="icon" href="/img/fav.png" sizes="any">
		<meta name="description" content="Learn why the :is() selector doesn&#39;t work with pseudo-elements">
		<meta name="author" content="Temani Afif">
		<meta name="robots" content="index, follow">
		<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
		<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
		<link rel=canonical href="https://css-tip.com/is-before-after/" >
		<link href="https://github.com/Afif13/" rel="me">
		<link href="https://twitter.com/ChallengesCss" rel="me">
		<meta name="fediverse:creator" content="@css@front-end.social" >
		<meta property="og:locale" content="en_US" >
		<meta property="og:title" content="Why :is(::before,::after) doesn&#39;t work?">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://css-tip.com/is-before-after/">
		<meta property="og:description" content="Learn why the :is() selector doesn&#39;t work with pseudo-elements">
		<meta property="og:image" content="/og-images/08aedde0.png" >
		<meta property="og:image:width" content="1200" >
		<meta property="og:image:height" content="675" >
		<meta name="twitter:card" content="summary_large_image">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="CSS Tip: Learn CSS the easy way">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="CSS Tip: Learn CSS the easy way">
		<meta name="generator" content="Eleventy v3.0.0">
		
		<style>code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-diff-]{--eleventy-code-padding:1.25em;padding-left:var(--eleventy-code-padding);padding-right:var(--eleventy-code-padding)}.token.deleted{background-color:#8e2e2e;color:inherit}.token.inserted{background-color:#44824a;color:inherit}.token.prefix.deleted,.token.prefix.inserted,.token.prefix.unchanged{-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;padding-top:2px;padding-bottom:2px}.token.prefix.deleted,.token.prefix.inserted{width:var(--eleventy-code-padding);background-color:rgba(0,0,0,.2)}.token.deleted:not(.prefix),.token.inserted:not(.prefix){display:block;margin-left:calc(-1 * var(--eleventy-code-padding));margin-right:calc(-1 * var(--eleventy-code-padding));text-decoration:none;color:inherit}:root{--font-family:-apple-system,system-ui,sans-serif;--font-family-monospace:Consolas,Menlo,Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace;--color-gray-20:#e0e0e0;--color-gray-50:#C0C0C0;--color-gray-90:#333;--background-color:#fff;--text-color:var(--color-gray-90);--text-color-link:#033254;--text-color-link-active:#5f2b48;--text-color-link-visited:#17050F}@media (prefers-color-scheme:dark){:root{--color-gray-20:#e0e0e0;--color-gray-50:#C0C0C0;--color-gray-90:#dad8d8;--text-color-link:#6fa2cc;--text-color-link-active:#6969f7;--text-color-link-visited:#a6a6f8;--background-color:#15202b}}*{box-sizing:border-box}html{font-family:var(--font-family);color:var(--text-color)}html{--s:50px;--c:#fff;--c1:#f3f3f3;--_s:calc(2*var(--s)) calc(2*var(--s));--_g:35.36% 35.36% at;--_c:#0000 66%,var(--c1) 68% 70%,#0000 72%;background:radial-gradient(var(--_g) 100% 25%,var(--_c)) var(--s) var(--s)/var(--_s),radial-gradient(var(--_g) 0 75%,var(--_c)) var(--s) var(--s)/var(--_s),radial-gradient(var(--_g) 100% 25%,var(--_c)) 0 0/var(--_s),radial-gradient(var(--_g) 0 75%,var(--_c)) 0 0/var(--_s),repeating-conic-gradient(var(--c) 0 25%,#0000 0 50%) 0 0/var(--_s),radial-gradient(var(--c) 66%,var(--c1) 68% 70%,var(--c) 72%) 0 calc(var(--s)/2)/var(--s) var(--s) var(--c);background-attachment:fixed;font-size:19px}@media (prefers-color-scheme:dark){html{--c:#15202b;--c1:#25272e}}body{max-width:1300px;margin:0 auto;min-height:100vh;display:grid;grid-template-columns:minmax(0,1fr) 450px}@media (max-width:1000px){body{grid-template-columns:minmax(0,1fr) 350px}}@media (max-width:800px){body{grid-template-columns:minmax(0,1fr)}}footer,header{grid-column:1/-1}aside{padding:1rem;display:grid;grid-template-rows:repeat(5,auto) 1fr;align-items:start;gap:1rem}aside>a{display:grid;overflow:hidden;border-radius:10px}aside>:last-child{position:sticky;top:1em}aside img{max-width:100%}footer{margin-top:auto;text-align:center;padding:0 1rem;border-image:linear-gradient(to bottom,var(--color-gray-20) 1px,#0000 0) fill 0//0 100vw}footer a{display:inline-block}h1{margin:.25em 0 .5em;font-size:2.5rem;text-wrap:pretty}p{text-wrap:pretty}.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}li,p{line-height:1.5}a[href]{color:var(--text-color-link)}a[href]:active,a[href]:hover{color:var(--text-color-link-active)}main{padding:1rem;margin-bottom:3rem}main img{max-width:100%;height:auto;margin:1.5rem auto;display:block}.links-nextprev{display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:1em;font-size:1.1em}.links-nextprev .prev{margin-right:auto}.links-nextprev .next{margin-left:auto}.links-nextprev a:not(:hover){text-decoration:none}.links-nextprev a{position:relative}.links-nextprev .prev a:before{content:"";position:absolute;inset:0 100% 0 auto;width:1em;margin-right:.3em;background:currentColor;clip-path:polygon(100% 0,0 50%,100% 100%)}.links-nextprev .next a:after{content:"";position:absolute;inset:0 auto 0 100%;width:1em;margin-left:.3em;background:currentColor;clip-path:polygon(0 0,100% 50%,0 100%)}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:var(--font-family-monospace)}code{background:#fff2ea;padding-inline:.1em}@media (prefers-color-scheme:dark){code{background:#293c50}}pre:not([class*=language-]){margin:.5em 0;line-height:1.375;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal}pre[class*=language-]{margin:1.5em 0}header{display:flex;gap:1em .5em;flex-wrap:wrap;align-items:center;justify-content:center;padding:1em;border-image:linear-gradient(to top,var(--color-gray-20) 1px,#0000 0) fill 0//0 100vw}.home-link{font-size:2em;font-weight:700;text-decoration:none;color:var(--text-color)!important}nav{margin:auto}.nav{display:flex;flex-wrap:wrap;justify-content:center;padding:0;margin:0;list-style:none;gap:1em;font-size:1.2em}.nav-item a[href]:not(:hover){text-decoration:none}.nav a[href][aria-current=page]{text-decoration:underline}.postlist{list-style:none;padding:0;padding-left:1.5rem;text-wrap:pretty}.postlist>*{display:flex;flex-direction:column;align-items:start;margin-bottom:1em;position:relative;font-size:1.1em}.postlist>:before{pointer-events:none;content:"❋";line-height:100%;position:absolute;right:calc(100% + .5em);top:.7em}.postlist time,.postlist>:before{font-size:.9em;color:var(--color-gray-90)}.postlist time{word-spacing:-0.5px;margin-top:.5em}.postlist a{font-size:1.3em;font-weight:700;padding-right:.5em;text-underline-position:from-font}.postlist a:not(:hover){text-decoration:none}[data-ea-type=text]+p{margin-top:0}h1+time{display:block;margin:1em 0 3em;font-style:italic;font-weight:500}.header-anchor{text-decoration:none;font-style:normal;font-size:1em;margin-left:.1em}a[href].header-anchor,a[href].header-anchor:visited{color:transparent}a[href].header-anchor:focus,a[href].header-anchor:hover{text-decoration:underline}:hover>a[href].header-anchor,a[href].header-anchor:focus{color:#aaa}h2+.header-anchor{font-size:1.5em}input[type=search]{display:block;width:calc(100% - 24px);margin:1em auto;padding:.8em;border-radius:5px;border:1px solid #0005;font-size:1em}.hide{display:none!important}#carbonads{margin:0!important;position:sticky;top:1em}#carbon-responsive .carbon-responsive-wrap{border-radius:9px}#carbon-responsive{max-width:100%!important;position:relative}#carbon-responsive .carbon-img{flex:0 0 180px!important}#carbon-responsive .carbon-img img{max-width:100%!important;width:100%;height:auto}#carbon-responsive .carbon-text{display:grid;place-content:center;font-size:15px}#custom-wall{display:grid}.wall{height:100%;font-size:18px;line-height:1.4;position:relative;overflow:hidden;display:flex;flex-direction:column;padding:1em;border:1px solid #eaeaea;text-decoration:none;border-radius:.5em;row-gap:5px}.wall__footer{display:flex;justify-content:space-between}.wall__image img{height:50px}.wall__tagline{font-weight:600}h3.wall__tagline{margin-block:.3em;font-size:1.25em;text-transform:capitalize}.wall__description{font-size:.875em;line-height:1.35;flex:1}p.wall__description{font-size:1em;line-height:1.4;margin-block:.5em 1.5em}.wall__sponsor{font-size:.625em;font-weight:500;letter-spacing:.1ch;text-transform:uppercase}.wall__cta{font-size:.9em;font-weight:500;padding:.5em 1em;text-align:center;white-space:nowrap;letter-spacing:.1ch;text-transform:uppercase;border-radius:4px;place-self:center end}.statamic.wall:before{content:"";position:absolute;background:url(https://statamic.com/img/branding/toucan.webp) center/contain;width:100px;aspect-ratio:1.6;right:0;bottom:45px}.statamic .wall__footer{gap:30px;align-items:center}.statamic .wall__image img{height:40px;display:block}#inline-custom{display:block}#inline-custom:has(#_responsive_)>hr{display:none}#inline-custom ._responsive_{max-width:100%}#inline-custom ._responsive_ .native-banner{padding:.25em 1em}#inline-custom ._responsive_ .native-img{width:100px!important;flex-basis:initial!important;height:40px!important}#inline-custom ._responsive_ .native-company{margin-bottom:0!important;font-weight:400!important}#inline-custom ._responsive_ .native-desc{font-weight:500!important}.sponso{border:1px solid var(--text-color-link);padding:1em;border-radius:.5em;background:var(--background-color)}.sponso p{line-height:24px;margin-block:10px;font-size:17px}.sponso small{font-size:.7em;font-weight:500;letter-spacing:1px;text-transform:uppercase}.sponso a:last-child{display:block;text-align:center;background:var(--text-color-link);color:var(--background-color);text-decoration:none;padding:.75em 1em;border-radius:5px;font-weight:600;text-transform:uppercase}code[class*=language-],pre[class*=language-]{line-height:1.4}time span{font-weight:400;margin-inline:10px}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>
		<header>
			<a href="/" class="home-link">CSS Tip</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/tools/">Tools</a></li>
					<li class="nav-item"><a href="/explore/">Explore</a></li>
					<li class="nav-item"><a href="/archive/">Archive</a></li>
					<li class="nav-item"><a href="/advertise/">Advertise</a></li>
					<li class="nav-item"><a href="/feed/feed.xml" target="_blank">RSS</a></li>
				</ul>
			</nav>
		</header>
		<main id="skip">
			
<ul class="links-nextprev"><li class="prev"><a href="/center/" title="100 Ways to Center an element Horizontally and Vertically">Previous CSS Tip</a></li><li class="next"><a href="/corner-shape/" title="CSS Shapes using corner-shape">Next CSS Tip</a></li>
</ul>


<h1>Why :is(::before,::after) doesn&#39;t work?</h1>

<time datetime="2025-09-22">September 22, 2025</time>

<p>The functional pseudo-class <code>:is()</code> is ideal for shortening selectors. Take the following example:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.container button.large,<br>.container button.small</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* CSS */</span><br><span class="token punctuation">}</span></code></pre>
<p>We can write it using <code>:is()</code> like below:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.container button:is(.large,.small)</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* CSS */</span><br><span class="token punctuation">}</span></code></pre>
<p>Following the same logic, you may be tempted to write the following selector:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.container button:is(::before,::after)</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* CSS */</span><br><span class="token punctuation">}</span></code></pre>
<p>You select both pseudo-elements of <code>button</code> with one rule. Unfortunately, it won't work because pseudo-elements aren't valid within <code>:is()</code>.</p>
<h2>What's the Reason?</h2>
<p>Since <code>:is()</code> is often presented as a way to shorten selectors, many people think that the browser will &quot;expand&quot; the selector before doing the evaluation.</p>
<p>So The following:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">button:is(.large,.small)</span> <span class="token punctuation">{</span><br><br><span class="token punctuation">}</span></code></pre>
<p>will first get transformed into:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">button.large,<br>button.small</span> <span class="token punctuation">{</span><br> <br><span class="token punctuation">}</span></code></pre>
<p>Then we select the elements.</p>
<p>While the logic appears to work for that particular case (and many others), it doesn't behave that way.</p>
<p>The <code>:is()</code> part is a pseudo-class that adds a condition to the selection, just like other selectors (such as class selectors, ID selectors, etc.) do. The key is to know how to read the selector, and you will understand why pseudo-elements aren't allowed:</p>
<ul>
<li><code>*.small</code>: select any element having the class <code>.small</code>.</li>
<li><code>.small</code>: The universal selector is implicit; we can remove it.</li>
<li><code>.small::before</code>: Select the pseudo-element of &quot;any element having the class <code>.small</code>&quot;</li>
<li><code>:is(.small)</code>: Select any element that matches the selectors inside <code>:is()</code>:
<ul>
<li>has the class <code>.small</code>.</li>
</ul>
</li>
<li><code>:is(.small,.large)</code>: Select any element that matches the selectors inside <code>:is()</code>:
<ul>
<li>has the class <code>.small</code>. <strong>or</strong></li>
<li>has the class <code>.large</code>.</li>
</ul>
</li>
<li><code>button:is(.small,.large)</code>: Select any element that is a button <strong>and</strong> match the selectors inside <code>:is()</code>:
<ul>
<li>has the class <code>.small</code>. <strong>or</strong></li>
<li>has the class <code>.large</code>.</li>
</ul>
</li>
<li><code>button:is(::before,::after)</code>: Select any element that is a button <strong>and</strong> match the selectors inside <code>:is()</code>.</li>
</ul>
<p>Do you see the issue with the last selector? A button cannot match the selectors because a button cannot be a pseudo-element. The <code>:is()</code> pseudo-class is adding a condition to the selector. It's not selecting what is inside it. You cannot read it as <strong style="color:#cd333f">&quot;select <code>::before</code> and <code>::after</code> of the button element&quot;</strong>. You should read it as <strong style="color:#8A9B0F">&quot;select the button element that matches the selectors inside <code>:is()</code>&quot;</strong>. It won't work because a button cannot be a pseudo-element.</p>
<h2>What about <code>:is(::before,::after){}</code> ?</h2>
<p>Even if we don't have a selector before the <code>:is()</code>, the same logic apply because <code>:is(::before,::after)</code> is equivalent to <code>*:is(::before,::after)</code> which means &quot;select any element that match the selectors inside <code>:is()</code>&quot;. It won't work because an element cannot be a pseudo-element.</p>
<p>You will probably find this a bit confusing and counter-intuitive, but never forget that pseudo-elements aren't allowed inside <code>:is()</code>. The same rule applies to the <code>:not()</code> and <code>:where()</code> pseudo-class.</p>
<h2>What about <code>button:is(:active,:hover,:focus){}</code> ?</h2>
<p>That selector is valid because it does make sense if we read it correctly:</p>
<ul>
<li>Select any element that is a button <strong>and</strong> match the selectors inside <code>:is()</code>:
<ul>
<li>has the focus. <strong>or</strong></li>
<li>is hovered. <strong>or</strong></li>
<li>is being activated.</li>
</ul>
</li>
</ul>


<div id="inline-custom"><hr style="margin-block:1rem"></div>

<h2>More CSS Tips</h2>

<ul class="postlist" >
  	<li>
		<a href="/range-selection/" >Range Selection using Modern CSS</a>
		<small>A new way to select elements in a specific range using if() and sibling-index().</small>
		<time datetime="2025-10-02">October 02, 2025</time>
	</li>
  	<li>
		<a href="/3d-box/" >3D Box using Modern CSS</a>
		<small>Combining corner-shape and modern CSS features to create a 3D box.</small>
		<time datetime="2025-09-27">September 27, 2025</time>
	</li>
  	<li>
		<a href="/circular-gallery/" >Circular Gallery of Rounded Images</a>
		<small>A fancy gallery of images created with few lines code.</small>
		<time datetime="2025-08-19">August 19, 2025</time>
	</li>
  	<li>
		<a href="/dynamic-queries/" >Dynamic media/container queries using if()</a>
		<small>Use modern CSS to express media queries and container queries differently.</small>
		<time datetime="2025-08-14">August 14, 2025</time>
	</li>
</ul>
		</main>
		<aside>
			<div id="custom-wall" style="height: 230px;"></div>
			<div style="height:400px;overflow: clip;"><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CW7D653J&placement=css-tipcom&format=cover" id="_carbonads_js"></script></div>
			<a href="https://css-loaders.com/" target="_blank" rel="noopener">
				<img src="/img/css-loader.jpg" alt="CSS Loaders" >
			</a>
			<a href="https://css-shape.com/" target="_blank" rel="noopener">
				<img src="/img/css-shape.jpg" alt="CSS Shape" >
			</a>
			<a href="https://ko-fi.com/temani" target="_blank" rel="noopener">
				<img src="/img/kofi.png" alt="Buy Me a coffe" >
			</a>
		</aside>
		<footer>
			<p>Created by <a href="/about/" target="_blank">Temani Afif</a> | <a href="https://css-generators.com/" target="_blank" rel="noopener">CSS Generators</a> | <a href="https://css-loaders.com/" target="_blank" rel="noopener">CSS Loaders</a> | <a href="https://css-shape.com/" target="_blank" rel="noopener">CSS Shape</a> | <a href="https://css-pattern.com/" target="_blank" rel="noopener">CSS Pattern</a></p>
		</footer>
	<script src="https://m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<script>
(function() {
  if (typeof _bsa !== 'undefined' && _bsa) {
    _bsa.initBatch('custom', 'CW7D653L', 'placement:css-tipcom', {
    //_bsa.initBatch('custom', 'CVADC53U', 'placement:yoursitedomain', {
      target: '#custom-wall',
      template:
`
<a href="##statlink##" class="wall" style="background-color: ##backgroundColor##; color: ##textColor##" rel="sponsored noopener" target="_blank" title="##company## — ##tagline##">
  <div class="wall__sponsor">Sponsored by ##company##</div>
  <div class="wall__tagline">##companyTagline##</div>
  <div class="wall__description">##description##</div>
  <div class="wall__footer">
    <div class="wall__image"><img src="##logo##"></div>
    <div class="wall__cta" style="background-color: ##ctaBackgroundColor##; color: ##ctaTextColor##;">##callToAction##</div>
  </div>
</a>
`});
  _bsa.initBatch('responsive', 'CW7DPK7N', 'placement:css-tipcom', { target: "#inline-custom" });
  //_bsa.initBatch('responsive', 'CVADC53U', 'placement:yoursitedomain', { target: "#inline-custom" });
  _bsa.loadBatch();
  }
})();
function BSANativeCallback({ ads, key }) {
	let custom = document.querySelector("#custom-wall");
  if (ads.length === 0 && custom.childElementCount === 0) {
  	custom.innerHTML='<div class="sponso">\
				<a href="/advertise/"><small>Place your ad here</small></a>\
				<p>Reach a wide audience of web developers with a personalized and attractive ad.</p>\
				<p>Don\'t miss the opportunity to promote your product starting from <strong>100$/month</strong>.</p>\
				<a href="/advertise/">Advertise with CSS Tip</a>\
			</div>';
		custom.style.height="";	
  }
}
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KSNXZ63602"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-KSNXZ63602');
</script>
	</body>
</html>
